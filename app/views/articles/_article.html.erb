<tr>
  <td><%= article.title %></td>

  <% unless can_infer_author? %>
    <td><%= article.author.username %></td>
  <% end %>

  <td><%= render 'categories/joined', categories: article.categories %></td>
  <td>
    <% if article.draft? %>
      Draft
    <% elsif article.published? %>
      <%= time_ago_in_words(article.published_at) %> ago
    <% else %>
      Scheduled
    <% end %>
  </td>

  <td><%= link_to 'View', article %></td>
  <% authorized = logged_in? && (article.author_id == current_user.id || current_user.admin?) %>
  <td><%= link_to_if authorized, 'Edit', edit_article_path(article) %></td>
  <td>
    <%= link_to_if authorized, 'Delete', article, data: {
      turbo_method: :delete,
      turbo_confirm: 'Are you sure you want to delete this article?'
    } %>
  </td>
</tr>
